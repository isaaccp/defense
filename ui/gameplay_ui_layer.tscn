[gd_scene load_steps=6 format=3 uid="uid://5ity5n7jy3b8"]

[ext_resource type="Script" path="res://ui/gameplay_ui_layer.gd" id="1_2vged"]
[ext_resource type="PackedScene" uid="uid://bp627of2jpvl8" path="res://ui/character_selection_screen.tscn" id="2_rk245"]
[ext_resource type="PackedScene" uid="uid://brpcb8r5ubqip" path="res://ui/upgrade_character_screen.tscn" id="3_x1mfn"]
[ext_resource type="PackedScene" uid="uid://bfketgt7bwsh2" path="res://ui/log_viewer.tscn" id="5_0qbeh"]
[ext_resource type="PackedScene" uid="uid://cqmsmsumhossr" path="res://ui/hud.tscn" id="5_uol5s"]

[node name="GameplayUILayer" type="CanvasLayer" node_paths=PackedStringArray("character_selection_screen", "hud", "screens")]
process_mode = 3
visible = false
script = ExtResource("1_2vged")
character_selection_screen = NodePath("Screens/CharacterSelectionScreen")
hud = NodePath("Overlay/HUD")
screens = NodePath("Screens")

[node name="Screens" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="CharacterSelectionScreen" parent="Screens" instance=ExtResource("2_rk245")]
visible = false
layout_mode = 1

[node name="UpgradeCharacterScreen" parent="Screens" instance=ExtResource("3_x1mfn")]
unique_name_in_owner = true
visible = false
layout_mode = 1

[node name="Overlay" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="HUD" parent="Overlay" instance=ExtResource("5_uol5s")]
layout_mode = 1
mouse_filter = 2

[node name="Windows" type="Node" parent="."]

[node name="LogViewer" parent="Windows" instance=ExtResource("5_0qbeh")]
unique_name_in_owner = true
visible = false

[connection signal="selection_ready" from="Screens/CharacterSelectionScreen" to="." method="_on_character_selection_screen_selection_ready"]
[connection signal="behavior_modified" from="Overlay/HUD" to="." method="_on_behavior_modified"]
[connection signal="restart_requested" from="Overlay/HUD" to="." method="_on_hud_restart_requested"]
[connection signal="upgrade_window_requested" from="Overlay/HUD" to="." method="_on_hud_upgrade_window_requested"]
[connection signal="view_log_requested" from="Overlay/HUD" to="." method="_on_hud_view_log_requested"]
